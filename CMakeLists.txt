cmake_minimum_required(VERSION 3.0 FATAL_ERROR)

project(SCHNApps
	LANGUAGES CXX
)

#### Default build type
if(NOT CMAKE_BUILD_TYPE)
	set(CMAKE_BUILD_TYPE "Release")
endif()

#### SCHNAPPS PATH / SCHNAPPS_SOURCE_DIR
set(SCHNAPPS_PATH "${CMAKE_CURRENT_SOURCE_DIR}")
set(SCHNAPPS_SOURCE_DIR ${SCHNAPPS_PATH})

#### CGOGN_PATH / CGOGN_SOURCE_DIR
set(CGOGN_PATH "${SCHNAPPS_PATH}/../CGoGN_2")
set(CGOGN_BUILD_PATH "${SCHNAPPS_PATH}/../CGoGN_2-build")
set(CGOGN_SOURCE_DIR ${CGOGN_PATH})

set(CMAKE_PREFIX_PATH ${CMAKE_PREFIX_PATH} ${CGOGN_BUILD_PATH})

set(CGOGN_THIRDPARTY_QOGLVIEWER_INCLUDE_DIR "${CGOGN_PATH}/thirdparty/libQGLViewer" CACHE PATH "QGLViewer include directory")
set(CGOGN_THIRDPARTY_EIGEN3_INCLUDE_DIR "${CGOGN_PATH}/thirdparty/eigen-3.2.8" CACHE PATH "Eigen3 include directory")
set(CGOGN_THIRDPARTY_TINYXML2_INCLUDE_DIR "${CGOGN_PATH}/thirdparty/TinyXml2" CACHE PATH "TinyXml2 include directory")
set(CGOGN_THIRDPARTY_LM6_INCLUDE_DIR "${CGOGN_PATH}/thirdparty/lm6" CACHE PATH "LM6 include directory")
set(CGOGN_THIRDPARTY_PLY_INCLUDE_DIR "${CGOGN_PATH}/thirdparty/ply" CACHE PATH "Ply include directory")

#### Build configuration
set(CMAKE_RUNTIME_OUTPUT_DIRECTORY ${PROJECT_BINARY_DIR}/bin)
set(CMAKE_LIBRARY_OUTPUT_DIRECTORY ${PROJECT_BINARY_DIR}/lib)
set(CMAKE_ARCHIVE_OUTPUT_DIRECTORY ${PROJECT_BINARY_DIR}/lib)

find_package(Qt5Widgets REQUIRED)

add_subdirectory(${SCHNAPPS_SOURCE_DIR}/schnapps)
